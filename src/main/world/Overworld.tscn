[gd_scene load_steps=23 format=2]

[ext_resource path="res://src/main/world/orange.gd" type="Script" id=1]
[ext_resource path="res://src/main/world/overworld.gd" type="Script" id=2]
[ext_resource path="res://src/main/ui/OverworldUi.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/main/world/spira.gd" type="Script" id=4]
[ext_resource path="res://src/main/environment/OverworldGridMap.tscn" type="PackedScene" id=5]
[ext_resource path="res://src/main/world/slippery-kinematic-body.gd" type="Script" id=6]
[ext_resource path="res://src/main/world/ChatIcon.tscn" type="PackedScene" id=7]
[ext_resource path="res://src/main/world/Customer3D.tscn" type="PackedScene" id=8]
[ext_resource path="res://assets/world/environment/environment.tres" type="Environment" id=11]
[ext_resource path="res://assets/world/overworld-material-outline.tres" type="Material" id=13]
[ext_resource path="res://src/main/world/bort.gd" type="Script" id=17]
[ext_resource path="res://src/main/world/overworld-camera.gd" type="Script" id=18]
[ext_resource path="res://src/main/ui/chat/chat-camera-target.gd" type="Script" id=19]
[ext_resource path="res://src/main/world/ebe.gd" type="Script" id=20]
[ext_resource path="res://src/main/world/boatricia.gd" type="Script" id=21]

[sub_resource type="CylinderMesh" id=1]
top_radius = 10.0
bottom_radius = 10.0
height = 20.0

[sub_resource type="SpatialMaterial" id=2]
flags_unshaded = true
params_cull_mode = 1
params_grow = true
params_grow_amount = 0.8
albedo_color = Color( 0.423529, 0.262745, 0.192157, 1 )

[sub_resource type="SpatialMaterial" id=3]
next_pass = SubResource( 2 )
params_diffuse_mode = 4
params_specular_mode = 3
albedo_color = Color( 0.85, 0.2125, 0.371875, 1 )
metallic_specular = 0.2
roughness = 0.15

[sub_resource type="CylinderShape" id=4]
radius = 10.0
height = 20.0

[sub_resource type="SphereMesh" id=5]
radius = 10.0
height = 20.0

[sub_resource type="SpatialMaterial" id=6]
next_pass = SubResource( 2 )
params_diffuse_mode = 4
params_specular_mode = 3
albedo_color = Color( 0.85, 0.371875, 0.2125, 1 )
metallic_specular = 0.2
roughness = 0.15

[sub_resource type="SphereShape" id=7]
radius = 10.0

[node name="Overworld" type="Spatial"]
script = ExtResource( 2 )

[node name="OverworldUi" parent="." instance=ExtResource( 3 )]

[node name="GridMap" parent="." instance=ExtResource( 5 )]
data = {
"cells": PoolIntArray( 0, 0, 7, 1, 0, 1441799, 2, 0, 7, 3, 0, 1441799, 4, 0, 7, 5, 0, 6, 65527, 0, 1441799, 65528, 0, 7, 65529, 0, 1441799, 65530, 0, 7, 65531, 0, 1441799, 65532, 0, 7, 65533, 0, 1441799, 65534, 0, 7, 65535, 0, 1441799, -65536, 0, 1, -65535, 0, 1, -65534, 0, 1, -65533, 0, 1, -65532, 0, 1, -65531, 0, 1, -65530, 0, 1, -65529, 0, 1, -65528, 0, 1, -65527, 0, 0, -10, 0, 0, -9, 0, 1, -8, 0, 1, -7, 0, 1, -6, 0, 1, -5, 0, 1, -4, 0, 1, -3, 0, 1073741825, -2, 0, 1, -1, 0, 1, 65527, 1, 7, 65528, 1, 1441799, 65529, 1, 7, 65530, 1, 1441799, 65531, 1, 7, 65532, 1, 1441799, 65533, 1, 536870919, 65534, 1, 1441799, 65535, 1, 6, -65536, 1, 1, -65535, 1, 1, -65534, 1, 1, -65533, 1, 1, -65532, 1, 1, -65531, 1, 1, -65530, 1, 1, -65529, 1, 1, -65528, 1, 1, -65527, 1, 0, -10, 1, 0, -9, 1, 1, -8, 1, 1, -7, 1, 1, -6, 1, 1, -5, 1, 1, -4, 1, 1, -3, 1, 1, -2, 1, 1, -1, 1, 1, 65529, 2, 2, 65530, 2, 2, 65531, 2, 2, 65532, 2, 2, 65533, 2, 2, 131068, 2, 9, -65536, 2, 1, -65535, 2, 1, -65534, 2, 1, -65533, 2, 1, -65532, 2, 1, -65531, 2, 1, -65530, 2, 1, -65529, 2, 1, -65528, 2, 1, -65527, 2, 0, -10, 2, 0, -9, 2, 1, -8, 2, 1, -7, 2, 1, -6, 2, 1, -5, 2, 1, -4, 2, 1, -3, 2, 1, -2, 2, 1, -1, 2, 1, 65527, 3, 2, 65528, 3, 2, 65529, 3, 2, 65530, 3, 2, 65531, 3, 2, 65532, 3, 2, 65533, 3, 2, 65534, 3, 2, 65535, 3, 2, -65536, 3, 1, -65535, 3, 1, -65534, 3, 1, -65533, 3, 1, -65532, 3, 1, -65531, 3, 1, -65530, 3, 1, -65529, 3, 1, -65528, 3, 1, -65527, 3, 0, -10, 3, 0, -9, 3, 1, -8, 3, 1, -7, 3, 1, -6, 3, 1, -5, 3, 1, -4, 3, 1, -3, 3, 1, -2, 3, 1, -1, 3, 1, 0, 4, 2, 1, 4, 2, 2, 4, 2, 3, 4, 2, 4, 4, 2, 5, 4, 2, 6, 4, 2, 7, 4, 2, 8, 4, 2, 65527, 4, 2, 65528, 4, 2, 65529, 4, 2, 65530, 4, 2, 65531, 4, 2, 65532, 4, 2, 65533, 4, 2, 65534, 4, 2, 65535, 4, 2, 131063, 4, 9, -65536, 4, 1, -65535, 4, 1, -65534, 4, 1, -65533, 4, 1, -65532, 4, 1, -65531, 4, 1, -65530, 4, 1, -65529, 4, 1, -65528, 4, 1, -65527, 4, 0, -10, 4, 0, -9, 4, 1, -8, 4, 1, -7, 4, 1, -6, 4, 1, -5, 4, 1, -4, 4, 1, -3, 4, 1, -2, 4, 1, -1, 4, 1073741825, 0, 5, 2, 1, 5, 2, 2, 5, 2, 3, 5, 2, 4, 5, 2, 5, 5, 2, 6, 5, 2, 7, 5, 2, 8, 5, 2, 65527, 5, 2, 65528, 5, 2, 65529, 5, 2, 65530, 5, 2, 65531, 5, 2, 65532, 5, 2, 65533, 5, 2, 65534, 5, 2, 65535, 5, 2, 65536, 5, 2, 65537, 5, 2, 65538, 5, 2, 65539, 5, 2, 65540, 5, 2, 65541, 5, 1073741826, 65542, 5, 2, 65543, 5, 2, 65544, 5, 2, 131063, 5, 2, 131064, 5, 2, 131065, 5, 2, 131066, 5, 2, 131067, 5, 2, 131068, 5, 2, 131069, 5, 1073741826, 131070, 5, 2, 131071, 5, 2, 131072, 5, 2, 131073, 5, 2, 131074, 5, 2, 131075, 5, 2, 131076, 5, 2, 131077, 5, 2, 131078, 5, 2, 131079, 5, 2, 131080, 5, 2, 196599, 5, 2, 196600, 5, 2, 196601, 5, 2, 196602, 5, 2, 196603, 5, 2, 196604, 5, 2, 196605, 5, 2, 196606, 5, 2, 196607, 5, 2, 196608, 5, 2, 196609, 5, 2, 196610, 5, 2, 196611, 5, 2, 196612, 5, 2, 196613, 5, 2, 196614, 5, 2, 196615, 5, 2, 196616, 5, 2, 262135, 5, 2, 262136, 5, 536870914, 262137, 5, 2, 262138, 5, 2, 262139, 5, 2, 262140, 5, 2, 262141, 5, 2, 262142, 5, 2, 262143, 5, 2, 262145, 5, 11, 262146, 5, 10, 262148, 5, 9, 262149, 5, 11, 327673, 5, 10, 327674, 5, 9, -65536, 5, 1, -65535, 5, 1, -65534, 5, 1, -65533, 5, 1, -65532, 5, 1, -65531, 5, 1, -65530, 5, 1, -65529, 5, 1, -65528, 5, 1, -65527, 5, 0, -10, 5, 0, -9, 5, 1, -8, 5, 1, -7, 5, 1, -6, 5, 1, -5, 5, 1, -4, 5, 1, -3, 5, 1, -2, 5, 1, -1, 5, 1, -65536, 6, 0, -65535, 6, 0, -65534, 6, 0, -65533, 6, 0, -65532, 6, 0, -65531, 6, 0, -65530, 6, 0, -65529, 6, 0, -65528, 6, 536870912, -65527, 6, 0, -10, 6, 0, -9, 6, 0, -8, 6, 0, -7, 6, 0, -6, 6, 0, -5, 6, 0, -4, 6, 0, -3, 6, 0, -2, 6, 0, -1, 6, 0, -65536, 65529, 0, -65535, 65529, 0, -65534, 65529, 0, -65533, 65529, 0, -65532, 65529, 0, -65531, 65529, 0, -65530, 65529, 0, -65529, 65529, 0, -65528, 65529, 0, -65527, 65529, 0, -10, 65529, 0, -9, 65529, 0, -8, 65529, 0, -7, 65529, 0, -6, 65529, 0, -5, 65529, 0, -4, 65529, 0, -3, 65529, 0, -2, 65529, 0, -1, 65529, 0, 0, 65530, 2, 1, 65530, 2, 2, 65530, 2, 3, 65530, 2, 4, 65530, 536870914, 5, 65530, 2, 6, 65530, 2, 7, 65530, 2, 8, 65530, 2, 65527, 65530, 2, 65528, 65530, 2, 65529, 65530, 2, 65530, 65530, 2, 65531, 65530, 2, 65532, 65530, 2, 65533, 65530, 2, 65534, 65530, 2, 65535, 65530, 2, 65536, 65530, 2, 65537, 65530, 2, 65538, 65530, 2, 65539, 65530, 2, 65540, 65530, 2, 65541, 65530, 2, 65542, 65530, 2, 65543, 65530, 2, 65544, 65530, 2, 131063, 65530, 2, 131064, 65530, 2, 131065, 65530, 536870914, 131066, 65530, 2, 131067, 65530, 2, 131068, 65530, 2, 131069, 65530, 2, 131070, 65530, 2, 131071, 65530, 2, 131072, 65530, 2, 131073, 65530, 2, 131074, 65530, 2, 131075, 65530, 2, 131076, 65530, 2, 131077, 65530, 2, 131078, 65530, 2, 131079, 65530, 2, 131080, 65530, 1073741826, 196599, 65530, 2, 196600, 65530, 2, 196601, 65530, 2, 196602, 65530, 2, 196603, 65530, 2, 196604, 65530, 2, 196605, 65530, 2, 196606, 65530, 2, 196607, 65530, 2, 196608, 65530, 2, 196609, 65530, 2, 196610, 65530, 2, 196611, 65530, 2, 196612, 65530, 2, 196613, 65530, 2, 196614, 65530, 2, 196615, 65530, 2, 196616, 65530, 2, 262135, 65530, 2, 262136, 65530, 2, 262137, 65530, 2, 262138, 65530, 2, 262139, 65530, 2, 262140, 65530, 2, 262141, 65530, 2, 262142, 65530, 2, 262143, 65530, 2, 262146, 65530, 10, -65536, 65530, 1, -65535, 65530, 1, -65534, 65530, 1, -65533, 65530, 1, -65532, 65530, 1, -65531, 65530, 1, -65530, 65530, 1, -65529, 65530, 1, -65528, 65530, 1, -65527, 65530, 0, -10, 65530, 0, -9, 65530, 1, -8, 65530, 1, -7, 65530, 1, -6, 65530, 1, -5, 65530, 1, -4, 65530, 1, -3, 65530, 1, -2, 65530, 536870913, -1, 65530, 1, 0, 65531, 2, 1, 65531, 536870914, 2, 65531, 2, 3, 65531, 2, 4, 65531, 2, 5, 65531, 2, 6, 65531, 2, 7, 65531, 2, 8, 65531, 2, 65527, 65531, 2, 65528, 65531, 2, 65529, 65531, 2, 65530, 65531, 2, 65531, 65531, 2, 65532, 65531, 2, 65533, 65531, 2, 65534, 65531, 2, 65535, 65531, 2, 131071, 65531, 8, -65536, 65531, 1, -65535, 65531, 1, -65534, 65531, 1, -65533, 65531, 1, -65532, 65531, 1, -65531, 65531, 1, -65530, 65531, 1, -65529, 65531, 1, -65528, 65531, 1, -65527, 65531, 0, -10, 65531, 0, -9, 65531, 1, -8, 65531, 1, -7, 65531, 1, -6, 65531, 1, -5, 65531, 1, -4, 65531, 1, -3, 65531, 1, -2, 65531, 1, -1, 65531, 1, 3, 65532, 2, 6, 65532, 2, 7, 65532, 536870914, 8, 65532, 2, 65527, 65532, 2, 65528, 65532, 2, 65529, 65532, 2, 65530, 65532, 2, 65531, 65532, 536870914, 65532, 65532, 2, 65533, 65532, 536870914, 65534, 65532, 2, -65536, 65532, 1, -65535, 65532, 1, -65534, 65532, 1, -65533, 65532, 1, -65532, 65532, 1, -65531, 65532, 1, -65530, 65532, 1, -65529, 65532, 1, -65528, 65532, 1, -65527, 65532, 0, -10, 65532, 0, -9, 65532, 1, -8, 65532, 1, -7, 65532, 1, -6, 65532, 1, -5, 65532, 1, -4, 65532, 536870913, -3, 65532, 1, -2, 65532, 1073741825, -1, 65532, 1, -65536, 65533, 1, -65535, 65533, 1, -65534, 65533, 1, -65533, 65533, 1, -65532, 65533, 1, -65531, 65533, 1, -65530, 65533, 1, -65529, 65533, 1, -65528, 65533, 1, -65527, 65533, 0, -10, 65533, 0, -9, 65533, 1, -8, 65533, 1, -7, 65533, 1, -6, 65533, 1, -5, 65533, 1, -4, 65533, 1, -3, 65533, 1, -2, 65533, 1, -1, 65533, 1, 5, 65534, 655366, 6, 65534, 7, 7, 65534, 1441799, 8, 65534, 7, -65536, 65534, 1, -65535, 65534, 1, -65534, 65534, 1, -65533, 65534, 1, -65532, 65534, 1, -65531, 65534, 1, -65530, 65534, 1073741825, -65529, 65534, 1, -65528, 65534, 1, -65527, 65534, 0, -10, 65534, 0, -9, 65534, 1, -8, 65534, 1, -7, 65534, 1, -6, 65534, 1, -5, 65534, 1, -4, 65534, 1, -3, 65534, 1, -2, 65534, 1, -1, 65534, 1, 0, 65535, 1441799, 1, 65535, 7, 2, 65535, 1441799, 3, 65535, 7, 4, 65535, 1441799, 5, 65535, 7, 6, 65535, 1441799, 7, 65535, 7, 8, 65535, 1441799, 65527, 65535, 1048582, 65533, 65535, 655366, 65534, 65535, 1441799, 65535, 65535, 7, -65536, 65535, 1, -65535, 65535, 1, -65534, 65535, 1, -65533, 65535, 1, -65532, 65535, 1, -65531, 65535, 1, -65530, 65535, 1, -65529, 65535, 1, -65528, 65535, 1, -65527, 65535, 0, -10, 65535, 0, -9, 65535, 1, -8, 65535, 1, -7, 65535, 1, -6, 65535, 1, -5, 65535, 1, -4, 65535, 1, -3, 65535, 1, -2, 65535, 1, -1, 65535, 1 )
}
_regenerate_empty_world = false
_regenerate_dramatic_world = false

[node name="Spira" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 10, 0 )
script = ExtResource( 4 )

[node name="CameraTarget" type="Spatial" parent="Spira"]
transform = Transform( 0.707107, -0.353553, 0.612372, 0, 0.866026, 0.5, -0.707108, -0.353553, 0.612373, 300, 250, 300 )

[node name="CoyoteTimer" type="Timer" parent="Spira"]
wait_time = 0.13
one_shot = true

[node name="JumpBuffer" type="Timer" parent="Spira"]
wait_time = 0.13
one_shot = true

[node name="RayCast" type="RayCast" parent="Spira"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 0, 2.5 )
enabled = true
cast_to = Vector3( 0, -13, 0 )

[node name="Red" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 100, 10, 20 )
script = ExtResource( 6 )
foothold_radius = 4.0

[node name="MeshInstance" type="MeshInstance" parent="Red"]
mesh = SubResource( 1 )
material/0 = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Red"]
shape = SubResource( 4 )

[node name="Blue" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -60, 10, -20 )

[node name="MeshInstance" type="MeshInstance" parent="Blue"]
mesh = SubResource( 1 )
material/0 = ExtResource( 13 )

[node name="CollisionShape" type="CollisionShape" parent="Blue"]
shape = SubResource( 4 )

[node name="Orange" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -140, 10, 20 )
script = ExtResource( 1 )

[node name="Sphere" type="MeshInstance" parent="Orange"]
mesh = SubResource( 5 )
material/0 = SubResource( 6 )

[node name="CollisionShape" type="CollisionShape" parent="Orange"]
shape = SubResource( 7 )

[node name="ChatIcon" parent="Orange" instance=ExtResource( 7 )]
bubble_type = 1
right_side = false

[node name="Bort" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 40, 10, 10 )
script = ExtResource( 17 )

[node name="ChatIcon" parent="Bort" instance=ExtResource( 7 )]

[node name="Boatricia" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, -80, 10, 20 )
script = ExtResource( 21 )

[node name="ChatIcon" parent="Boatricia" instance=ExtResource( 7 )]

[node name="Ebe" parent="." instance=ExtResource( 8 )]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 140, 10, 0 )
script = ExtResource( 20 )

[node name="ChatIcon" parent="Ebe" instance=ExtResource( 7 )]

[node name="OverworldCamera" type="InterpolatedCamera" parent="."]
transform = Transform( 0.707107, -0.353553, 0.612373, 0, 0.866026, 0.5, -0.707107, -0.353553, 0.612373, 300, 250, 300 )
environment = ExtResource( 11 )
projection = 1
current = true
size = 140.0
near = 0.5
far = 1000.0
target = NodePath("../Spira/CameraTarget")
speed = 4.0
enabled = true
script = ExtResource( 18 )

[node name="Tween" type="Tween" parent="OverworldCamera"]

[node name="ChatCameraTarget" type="Spatial" parent="."]
transform = Transform( 0.707107, -0.353553, 0.612372, 0, 0.866025, 0.5, -0.707107, -0.353553, 0.612372, 300, 250, 300 )
script = ExtResource( 19 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.422619, -0.742404, 0.519837, 0, 0.573576, 0.819152, -0.906308, 0.346189, -0.242404, 0, 200, 0 )
light_color = Color( 0.501961, 0.501961, 0.501961, 1 )
shadow_enabled = true
shadow_color = Color( 0.501961, 0.501961, 0.501961, 1 )
shadow_bias = 0.01
directional_shadow_split_1 = 0.05
directional_shadow_split_2 = 0.1
directional_shadow_split_3 = 0.3
directional_shadow_normal_bias = 1.5
directional_shadow_max_distance = 4000.0
[connection signal="chat_ended" from="OverworldUi" to="." method="_on_OverworldUi_chat_ended"]
[connection signal="chat_started" from="OverworldUi" to="." method="_on_OverworldUi_chat_started"]
[connection signal="showed_chat_choices" from="OverworldUi" to="." method="_on_OverworldUi_showed_chat_choices"]
[connection signal="left_zoom_radius" from="ChatCameraTarget" to="." method="_on_ChatCameraTarget_left_zoom_radius"]
